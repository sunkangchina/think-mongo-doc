(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{285:function(a,e,t){"use strict";t.r(e);var s=t(13),r=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"支付"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#支付"}},[a._v("#")]),a._v(" 支付")]),a._v(" "),e("p",[a._v("order_num 订单号")]),a._v(" "),e("p",[a._v("transaction_id 支付流水号")]),a._v(" "),e("h2",{attrs:{id:"成功后"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#成功后"}},[a._v("#")]),a._v(" 成功后")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('do_action("payment.success",$order_num);\ndo_action("payment.success.weixin",$order_num);\n')])])]),e("h2",{attrs:{id:"退款成功后"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#退款成功后"}},[a._v("#")]),a._v(" 退款成功后")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('do_action("payment.refund.success",$pay_refund);\n')])])]),e("p",[a._v("其中"),e("code",[a._v("$pay_refund")]),a._v("值")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$pay_refund = get_where(\"payment_base_refund\",['_id'=>$pay_refund_id],1);\n$pay_refund['pay_base_id']   = $pay_base_id;\n$pay_refund['order_num']  = $order_num;\n$pay_refund['refund_amount'] = $refund_amount;\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);